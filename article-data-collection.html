<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>广东高校数据采集流水线的踩坑与复盘 | 郑梓辉</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <link rel="stylesheet" href="css/common.css">
    <link rel="stylesheet" href="css/article-common.css">
</head>
<body class="article-page">
    <!-- 动态粒子背景 -->
    <canvas id="particles-canvas"></canvas>

    <!-- 导航栏 -->
    <nav>
        <div class="container">
            <div class="logo"><i class="fas fa-code"></i> blog</div>
            <ul class="nav-links">
                <li><a href="index.html#home">首页</a></li>
                <li><a href="index.html#projects">项目</a></li>
                <li><a href="blog.html">博客</a></li>
                <li><a href="index.html#about">关于</a></li>
                <li><a href="index.html#contact">联系</a></li>
            </ul>
        </div>
    </nav>

    <!-- 文章标题 -->
    <section class="article-hero">
        <div class="container">
            <a href="blog.html" class="back-link"><i class="fas fa-arrow-left"></i> 返回博客</a>
            <span class="article-tag tag-blue">数据采集</span>
            <h1 class="article-title">广东高校数据采集流水线的踩坑与复盘</h1>
            <div class="article-meta">
                <span><i class="far fa-calendar"></i> 2025-12-02</span>
                <span><i class="fas fa-user"></i> 郑梓辉</span>
            </div>
        </div>
    </section>

    <!-- 文章内容 -->
    <article class="container">
        <div class="article-content">
            <h2>前言</h2>
            <p>
                在广东高校数据采集与分析项目中，我们面临了许多关于数据可靠性、爬虫稳定性以及流水线可维护性的挑战。
                本文总结了从需求分析到生产部署过程中的核心教训。
            </p>

            <h2>核心技术栈</h2>
            <p>
                项目采用以下技术实现完整的数据采集流水线：
            </p>
            <ul>
                <li><strong>Playwright / Scrapy</strong> - 浏览器自动化与网页爬虫</li>
                <li><strong>Apache Airflow</strong> - 任务调度与工作流管理</li>
                <li><strong>Pandas / DuckDB</strong> - 数据清洗与转换</li>
                <li><strong>Superset</strong> - 数据可视化与实时监控</li>
            </ul>

            <h2>主要挑战与解决方案</h2>

            <h3>1. 反爬虫对抗</h3>
            <p>
                各高校网站采用了不同程度的反爬措施，包括 IP 限流、验证码、动态 JavaScript 渲染等。
                我们的解决方案：
            </p>
            <ul>
                <li>使用 Playwright 处理 JavaScript 渲染的动态内容</li>
                <li>实现轮换代理池，避免 IP 被封禁</li>
                <li>添加随机延迟和真实的请求头伪装</li>
                <li>对验证码采用人工审核 + OCR 混合方案</li>
            </ul>

            <h3>2. 数据质量保证</h3>
            <p>
                采集的数据需要经过严格的质量校验，包括：
            </p>
            <ul>
                <li>字段完整性检查（是否存在缺失值）</li>
                <li>数据格式验证（日期、电话号码等）</li>
                <li>重复数据检测与去重</li>
                <li>数据一致性校验（跨多个源的比对）</li>
            </ul>

            <h3>3. 流水线稳定性</h3>
            <p>
                在 Airflow 中实现自动重试和错误告警：
            </p>
            <pre><code>dag = DAG(
    'university_data_pipeline',
    default_args={
        'retries': 3,
        'retry_delay': timedelta(minutes=5)
    }
)</code></pre>

            <h2>经验总结</h2>
            <p>
                完成这个项目后，我们意识到数据采集不仅是技术问题，更是工程问题。
                需要在容错性、可维护性和成本之间找到平衡。
            </p>

            <h2>后续优化方向</h2>
            <ul>
                <li>升级到分布式爬虫架构，支持更大规模的并发采集</li>
                <li>集成更智能的反爬对抗策略（如浏览器指纹库）</li>
                <li>构建实时的数据质量仪表板</li>
            </ul>
        </div>
    </article>

    <!-- 页脚 -->
    <footer class="site-footer">
        <div class="container">
            <p><i class="fas fa-code"></i> 用工程化手段让 AI 落地</p>
            <p>&copy; 2025 Zihui Zheng. Built with passion.</p>
        </div>
    </footer>

    <script src="js/common.js"></script>
</body>
</html>